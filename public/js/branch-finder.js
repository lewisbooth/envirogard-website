"use strict";var areaButtons=document.querySelectorAll("[data-area]"),navBranchName=document.querySelector(".nav__menu--branch--name"),useLocationButtons=document.querySelectorAll(".branch-finder__info--title--use-location"),areaSelectDropdown=document.querySelector('select[name="branch"]'),navPhoneLink=document.querySelector(".nav__menu--contact--phone"),navEmailLink=document.querySelector(".nav__menu--contact--email"),mapSvgContainer=document.querySelector(".branch-finder__map"),mapSvgData=mapSvgContainer.querySelector("object"),_exports={},depotData={"south-east":{name:"Ashford",telephone:"01303 814930",email:"ashforddepot@envirogard.co.uk",location:{longitude:"0.948508",latitude:"51.114671"}},"south-west":{name:"Bristol",telephone:"0117 937 4551",email:"bristoldepot@envirogard.co.uk",location:{longitude:"-2.406108",latitude:"51.488762"}},midlands:{name:"Tamworth",telephone:"01827 304955",email:"tamworthdepot@envirogard.co.uk",location:{longitude:"-1.685924",latitude:"52.627187"}},"north-east":{name:"Barnsley",telephone:"0122 674 0900",email:"barnsleydepot@envirogard.co.uk",location:{longitude:"-1.444558",latitude:"53.507159"}},"north-west":{name:"Manchester",telephone:"0161 320 8587",email:"manchesterdepot@envirogard.co.uk",location:{longitude:"-2.107183",latitude:"53.478223"}}};function initLocation(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Cookies.get("locationDepot");t&&!e?updateLocation(t):fetch("/api/get-closest-depot").then(function(e){return e.json()}).then(function(e){return updateLocation(e)})}function updateLocation(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cookies.get("locationDepot");Cookies.set("locationDepot",e,{expires:365}),areaButtons.forEach(function(t){return t.dataset.area===e?t.classList.add("active"):t.classList.remove("active")}),navPhoneLink&&navEmailLink&&navBranchName&&(navPhoneLink.setAttribute("href","tel:"+depotData[e].telephone),navEmailLink.setAttribute("href","mailto:"+depotData[e].email),navBranchName.innerText=depotData[e].name),areaSelectDropdown&&(areaSelectDropdown.value=e)}_exports.depotData=depotData,initLocation(),areaButtons.forEach(function(e){return e.addEventListener("click",function(){return updateLocation(e.dataset.area)})}),mapSvgData.addEventListener("load",function(){var e=mapSvgData.contentDocument.documentElement;mapSvgContainer.innerHTML="",mapSvgContainer.appendChild(e),(areaButtons=document.querySelectorAll("[data-area]")).forEach(function(e){return e.addEventListener("click",function(){return updateLocation(e.dataset.area)})})}),areaSelectDropdown&&areaSelectDropdown.addEventListener("change",function(e){return updateLocation(e.target.value)}),useLocationButtons.forEach(function(e){return e.addEventListener("click",function(){return initLocation(!0)})});