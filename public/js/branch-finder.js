"use strict";var areaButtons=document.querySelectorAll("[data-area]"),navBranchName=document.querySelector(".nav__menu--branch--name"),useLocationButtons=document.querySelectorAll(".branch-finder__info--title--use-location"),areaSelectDropdown=document.querySelector('select[name="branch"]'),navPhoneLink=document.querySelector(".nav__menu--contact--phone"),navEmailLink=document.querySelector(".nav__menu--contact--email"),mapSvgContainer=document.querySelector(".branch-finder__map"),mapSvgData=document.querySelector(".branch-finder__map object"),_exports={},depotData={"south-east":{name:"Ashford",telephone:"01303 814930",email:"ashforddepot@envirogard.co.uk",location:{longitude:"0.948508",latitude:"51.114671"}},"south-west":{name:"Bristol",telephone:"0117 937 4551",email:"bristoldepot@envirogard.co.uk",location:{longitude:"-2.406108",latitude:"51.488762"}},midlands:{name:"Tamworth",telephone:"01827 304955",email:"tamworthdepot@envirogard.co.uk",location:{longitude:"-1.685924",latitude:"52.627187"}},"north-east":{name:"Barnsley",telephone:"0122 674 0900",email:"barnsleydepot@envirogard.co.uk",location:{longitude:"-1.444558",latitude:"53.507159"}},"north-west":{name:"Manchester",telephone:"0161 320 8587",email:"manchesterdepot@envirogard.co.uk",location:{longitude:"-2.107183",latitude:"53.478223"}}};_exports.depotData=depotData,initLocation();for(var _i=0;_i<areaButtons.length;_i++)updateLocationOnClick(areaButtons[_i]);function mapLoaded(){var e=mapSvgData.contentDocument.documentElement;mapSvgContainer.innerHTML="",mapSvgContainer.appendChild(e),areaButtons=document.querySelectorAll("[data-area]");for(var t=0;t<areaButtons.length;t++)updateLocationOnClick(areaButtons[t]);initLocation()}areaSelectDropdown&&areaSelectDropdown.addEventListener("change",function(e){return updateLocation(e.target.value)});for(var _i3=0;_i3<useLocationButtons.length;_i3++)useLocationButtons[_i3].addEventListener("click",function(){return initLocation(!0)});function initLocation(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Cookies.get("locationDepot");if("null"===t||e){var a=new XMLHttpRequest;a.onreadystatechange=function(){a.readyState==XMLHttpRequest.DONE&&updateLocation(a.responseText.replace(/"/g,""))},a.open("GET","/api/get-closest-depot"),a.send()}else updateLocation(t)}function updateLocation(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cookies.get("locationDepot")||"south-east";for(Cookies.set("locationDepot",e,{expires:365}),i=0;i<areaButtons.length;i++){var t=areaButtons[i];t.classList&&(t.getAttribute("data-area")===e?t.classList.add("active"):t.classList.remove("active"))}navPhoneLink&&navEmailLink&&navBranchName&&(navPhoneLink.setAttribute("href","tel:"+depotData[e].telephone),navEmailLink.setAttribute("href","mailto:"+depotData[e].email),navBranchName.innerText=depotData[e].name),areaSelectDropdown&&(areaSelectDropdown.value=e)}function updateLocationOnClick(e){e.addEventListener("click",function(){return updateLocation(e.getAttribute("data-area"))})}